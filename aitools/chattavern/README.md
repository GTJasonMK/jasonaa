# ChatTavern 使用指南

> **AI角色对话系统 - 兼容SillyTavern格式**

## 🎯 什么是ChatTavern？

ChatTavern是一个纯前端的AI角色对话系统，灵感来自SillyTavern，支持导入和创建角色卡进行AI驱动的对话。

### 核心特性

- ✅ **PNG角色卡导入** - 完全兼容SillyTavern格式
- ✅ **纯前端实现** - 无需服务器，运行在浏览器中
- ✅ **AI对话** - 支持OpenAI、Claude等API（用户自带Key）
- ✅ **对话记忆** - 智能记忆系统，记住重要信息
- ✅ **离线降级** - 未配置AI时自动使用简单回复
- ✅ **移动端友好** - 完美适配手机和平板

---

## 🚀 快速开始

### 步骤1：访问ChatTavern

1. 打开主页
2. 点击"ChatTavern"游戏卡片
3. 进入角色列表页面

### 步骤2：导入角色卡

**方式A：拖拽导入**
- 从电脑中拖拽PNG角色卡到页面
- 自动识别并导入

**方式B：选择文件**
- 点击"选择文件"按钮
- 选择PNG格式的角色卡
- 点击确定导入

### 步骤3：开始对话

- 点击角色卡片上的"开始对话"按钮
- 进入对话界面
- 输入消息并发送
- 享受AI驱动的自然对话！

---

## 📥 获取角色卡

### 方式1：从SillyTavern社区下载

1. 访问SillyTavern社区资源站
2. 下载喜欢的角色卡PNG文件
3. 导入到ChatTavern

**推荐资源：**
- [SillyTavern官方角色库](https://github.com/SillyTavern/SillyTavern-Content)
- 各大AI社区的角色卡分享

### 方式2：创建自己的角色卡

目前ChatTavern支持导入，创建功能正在开发中。

**临时方案：** 使用文本编辑器创建JSON，然后使用在线工具转换为PNG

---

## ⚙️ 配置AI功能

ChatTavern支持两种模式：

### 模式1：简单回复（默认）

- 无需配置
- 使用预设的随机回复
- 适合测试和预览

### 模式2：AI对话（需配置）

**配置步骤：**

1. 获取API Key
   - OpenAI: [platform.openai.com](https://platform.openai.com)
   - Claude: [console.anthropic.com](https://console.anthropic.com)

2. 配置API（功能开发中）
   - 点击设置按钮
   - 输入API URL和Key
   - 保存配置

3. 开始AI对话
   - 配置后自动启用
   - 享受智能对话体验

**注意：** API Key仅保存在你的浏览器本地，不会上传到任何服务器。

---

## 💡 使用技巧

### 对话技巧

1. **简短明确** - 消息简洁清晰，AI回复更准确
2. **保持角色** - 根据角色设定调整对话风格
3. **利用记忆** - 系统会记住你提到的喜好和重要信息

### 角色管理

1. **删除角色** - 点击角色卡片的"删除"按钮
2. **查看详情** - 导入后可查看角色设定
3. **导出角色** - 功能开发中

---

## 🔧 技术说明

### 数据存储

- **角色数据：** localStorage（浏览器本地）
- **对话历史：** localStorage（浏览器本地）
- **API配置：** localStorage（浏览器本地）

**注意：** 清除浏览器数据会删除所有角色和对话历史！

### 浏览器兼容性

- Chrome 60+ ✅
- Firefox 55+ ✅
- Safari 11+ ✅
- Edge 79+ ✅

### PNG格式说明

ChatTavern使用SillyTavern v2格式：
- PNG图片包含角色立绘
- tEXt chunk存储JSON数据
- 关键字："chara"
- 完全兼容SillyTavern

---

## ❓ 常见问题

### Q: 导入角色卡失败？

**A:** 检查以下几点：
- 文件是否为PNG格式
- 文件是否包含"chara"数据
- 尝试用SillyTavern验证文件是否有效

### Q: AI不回复或回复很慢？

**A:** 可能原因：
- 未配置API（使用简单回复模式）
- API Key无效或额度用尽
- 网络连接问题
- API服务器响应慢

### Q: 对话历史丢���？

**A:** 对话历史保存在localStorage中，以下情况会丢失：
- 手动清除浏览器数据
- 使用隐私/无痕模式
- localStorage容量超限

**建议：** 定期导出重要对话（功能开发中）

### Q: 如何创建自己的角色卡？

**A:** 角色卡创建功能正在开发中。目前可以：
1. 使用SillyTavern创建
2. 手动编写JSON + 在线PNG工具
3. 等待ChatTavern编辑器功能

---

## 🛠️ 开发路线图

### 已完成 ✅
- PNG角色卡导入
- 基础对话功能
- 对话记忆系统
- 移动端适配

### 开发中 🔄
- AI API配置界面
- 角色卡编辑器
- 对话导出功能
- 多角色对话

### 计划中 📅
- 本地AI支持（Ollama等）
- 视觉小说模式UI
- 角色好感度系统
- 社区角色库

---

## 📞 反馈与支持

遇到问题或有建议？

- 查看项目README
- 提交Issue到GitHub
- 参考SillyTavern文档

---

## 📄 许可证

本项目为开源项目，遵循项目主仓库的许可证。

**感谢使用ChatTavern！** 🎉

---

**提示：** 这是一个社区驱动的项目，欢迎贡献代码和角色卡！
