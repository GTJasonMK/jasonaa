# Markdown阅读器 - 项目功能使用说明

## 功能概述

已为Markdown阅读器添加密码保护的项目文档功能，可以安全地浏览你的私人文档项目。

## 项目配置

### 默认密码
你的项目 **Myctue游戏设计文档** 的默认密码是：`myctue2024`

### 修改密码
如需修改密码，请编辑配置文件：
```
aitools/mdreader/project/myctue/config.json
```

找到 `password` 字段进行修改：
```json
{
  "name": "Myctue游戏设计文档",
  "password": "你的新密码",
  ...
}
```

## 使用方法

### 1. 打开项目
1. 访问Markdown阅读器：`http://localhost:8080/aitools/mdreader/index.html`
2. 点击工具栏的 **"打开项目"** 按钮（文件夹图标）
3. 在项目列表中选择 **"Myctue游戏设计文档"**

### 2. 输入密码
- 输入密码：`myctue2024`（或你修改后的密码）
- 点击"确定"按钮
- 密码验证通过后，项目文档列表会显示在左侧边栏

### 3. 浏览文档
- 左侧边栏显示按类别分组的文档列表：
  - **概览**：项目总览和导航
  - **规划**：设计理念、开发路线图等
  - **核心系统**：场景、AI、任务等系统文档
  - **扩展系统**：个性化、情感、记忆等扩展功能
  - **技术实现**：数据结构、架构设计等技术文档
  - **资源**：资源文件说明

- 点击任意文档名称即可查看内容
- 当前查看的文档会高亮显示

### 4. 关闭项目
- 点击侧边栏顶部的 **"关闭项目"** 按钮
- 返回常规的文件上传模式

## 功能特性

### 密码保护
- ✅ 首次打开需要输入密码
- ✅ 密码验证通过后，在当前浏览器会话期间无需重复输入
- ✅ 关闭浏览器后，下次打开需要重新输入密码

### 文档管理
- ✅ 按类别分组显示（共29个文档）
- ✅ 支持子目录和复杂的文档结构
- ✅ 完整的Markdown渲染支持
- ✅ 代码高亮和复制功能
- ✅ 响应式设计，移动端友好

### 用户体验
- ✅ 美观的模态框设计
- ✅ 平滑的动画效果
- ✅ 深色/浅色主题自动适配
- ✅ 键盘快捷键（回车提交密码）
- ✅ 点击模态框外部关闭

## 项目文档结构

你的项目包含以下29个文档：

### 概览 (2个)
- 游戏玩法设计文档
- 文档导航（README）

### 规划 (7个)
- 项目总览与导航
- 设计理念与哲学
- 游戏概念文档
- 开发路线图
- 设计优化建议
- 全局一致性审计报告
- 术语表与概念定义

### 核心系统 (9个)
- 场景系统
- 桌宠AI与需求系统
- 时间与天气系统
- 资源与经济系统
- 供奉系统
- 任务系统
- 神力系统
- 成长与技能系统
- 工具学习与使用系统

### 扩展系统 (6个)
- 个性化系统
- 情感与记忆系统
- 关系系统
- 生命阶段系统
- 神力代价与哲学
- 新场景扩展

### 技术实现 (4个)
- 数据结构设计
- 架构设计
- AI实现方案
- MCP集成方案

### 资源 (1个)
- 资源文件说明

## 添加更多项目

如需添加更多项目，请按以下步骤操作：

### 1. 创建项目目录
```
aitools/mdreader/project/新项目名/
├── config.json          # 项目配置文件
├── README.md           # 项目说明
├── doc1.md             # 文档1
├── doc2.md             # 文档2
└── subfolder/          # 子目录
    └── doc3.md         # 子目录中的文档
```

### 2. 创建配置文件
创建 `config.json`：
```json
{
  "name": "项目显示名称",
  "password": "项目密码",
  "description": "项目描述",
  "documents": [
    {
      "title": "文档标题",
      "path": "doc1.md",
      "category": "分类名称"
    }
  ]
}
```

### 3. 注册项目
修改 `aitools/mdreader/mdreader.js` 中的 `loadProjects()` 方法，添加新项目：
```javascript
this.projects = [
    { id: 'myctue', name: 'Myctue游戏设计文档', path: 'project/myctue' },
    { id: '新项目id', name: '新项目名称', path: 'project/新项目名' }
];
```

## 安全说明

⚠️ **重要提示**：
1. 密码以明文形式存储在 `config.json` 中
2. 这是一个本地开发工具，不适合生产环境
3. 请勿在公共网络上部署此功能
4. 密码保护仅为便利性功能，非专业级安全方案

## 技术实现

- **HTML**: 模态框和项目列表UI
- **CSS**: 响应式布局和主题适配
- **JavaScript**:
  - `ProjectManager` 类：管理项目和密码验证
  - `MarkdownReader` 类：文档渲染和显示
  - SessionStorage：会话期间记住密码验证状态
  - Fetch API：加载配置和文档文件

## 故障排查

### 无法打开项目
- 确保HTTP服务器正在运行
- 检查项目路径是否正确
- 查看浏览器控制台错误信息

### 密码验证失败
- 检查 `config.json` 中的密码是否正确
- 注意密码大小写
- 确保配置文件格式正确（有效的JSON）

### 文档无法加载
- 检查文档文件是否存在
- 检查文档路径是否正确（相对于项目目录）
- 查看浏览器控制台的错误信息

## 反馈与支持

如有问题或建议，请查看浏览器控制台的日志信息，或查看源代码中的注释。
