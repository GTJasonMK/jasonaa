---
文档编号: 32
文档名称: 关系系统
版本: 1.0
最后更新: 2025-10-28
---

# 关系系统

## 文档元信息
- **所属类别**: 扩展系统
- **依赖系统**: [桌宠AI与需求系统](../10-核心系统/11-桌宠AI与需求系统.md)、[情感与记忆系统](31-情感与记忆系统.md)
- **相关文档**: [场景系统](../10-核心系统/10-场景系统.md)、[个性化系统](30-个性化系统.md)

## 相关文档链接
- **上级文档**: [项目总览与导航](../00-规划/00-项目总览与导航.md)
- **同级文档**: [情感与记忆系统](31-情感与记忆系统.md)、[生命阶段系统](33-生命阶段系统.md)
- **下级文档**: 无

---

## 1. 系统概述

### 1.1 设计目标
关系系统模拟桌宠与玩家、其他桌宠之间的社交网络。通过互动积累好感度、建立友谊、形成社交圈,让虚拟世界充满人际关系的温度和复杂性。

### 1.2 核心价值
- **社交深度**: 每段关系都有独特的发展历程
- **互动真实**: 关系会影响行为和对话内容
- **情感共鸣**: 玩家能感受到被需要和被依赖
- **社交网络**: 桌宠之间形成复杂的社交关系网

### 1.3 系统特点
- **多维关系模型**: 好感度、亲密度、信任度、依赖度
- **动态关系发展**: 关系会随互动质量变化
- **关系影响行为**: 不同关系等级解锁不同互动
- **社交事件**: 关系达到阈值触发特殊事件

---

## 2. 玩家-桌宠关系

### 2.1 关系维度

#### 2.1.1 四维关系模型
**玩家关系四维度模型**:

**好感度 (Affection)**: 0-100
- **含义**: 桌宠对玩家的喜欢程度
- **影响因素**: 互动频率、礼物质量、任务完成
- **影响**: 对话内容、主动互动频率

**亲密度 (Intimacy)**: 0-100
- **含义**: 关系的深度和了解程度
- **影响因素**: 相处时长、深度对话、共同经历
- **影响**: 解锁私密对话、特殊动画

**信任度 (Trust)**: 0-100
- **含义**: 对玩家的信赖和依赖程度
- **影响因素**: 承诺兑现、及时帮助、保护行为
- **影响**: 供奉意愿、寻求帮助频率

**依赖度 (Dependence)**: 0-100
- **含义**: 对玩家的需要程度
- **影响因素**: 玩家帮助频率、自主能力
- **影响**: 玩家离线时的情绪、独立性

#### 2.1.2 关系值计算权重

**综合关系等级计算公式**:
```
综合关系等级 = (好感度 × 0.4) + (亲密度 × 0.3) + (信任度 × 0.2) + (依赖度 × 0.1)
```

**设计理由**:
- 好感度最重要(40%): 基础情感连接
- 亲密度次之(30%): 关系深度体现
- 信任度(20%): 互动质量保证
- 依赖度最低(10%): 避免过度依赖

### 2.2 关系等级划分

#### 2.2.1 关系等级定义
**关系等级系统 (7级)**:

**1. 陌生人 (Stranger)** [0-10]
- **特征**: 初次见面,保持距离
- **行为**: 礼貌但疏远,简单对话
- **互动**: 基础问候、观察
- **解锁**: 无特殊内容

**2. 认识 (Acquaintance)** [11-25]
- **特征**: 知道对方存在,偶尔互动
- **行为**: 简单寒暄,基础交流
- **互动**: 日常对话、简单请求
- **解锁**: 基础任务、简单礼物

**3. 熟悉 (Familiar)** [26-40]
- **特征**: 经常见面,了解基本信息
- **行为**: 主动打招呼,分享日常
- **互动**: 闲聊、小礼物、轻松玩笑
- **解锁**: 个人偏好信息、常规任务

**4. 朋友 (Friend)** [41-60]
- **特征**: 相互信任,愿意分享
- **行为**: 主动互动,关心对方
- **互动**: 深度对话、寻求建议、互相帮助
- **解锁**: 个人故事、中级任务、特殊动画

**5. 好友 (Close Friend)** [61-75]
- **特征**: 深厚情谊,无话不谈
- **行为**: 分享秘密,情感支持
- **互动**: 私密对话、重要决定征询、特殊活动
- **解锁**: 内心想法、高级任务、专属称呼

**6. 挚友 (Best Friend)** [76-90]
- **特征**: 最信任的关系,无条件支持
- **行为**: 完全信任,全力相助
- **互动**: 深层情感交流、重大事件分享
- **解锁**: 完整背景故事、特殊剧情、独家动画

**7. 家人 (Family)** [91-100]
- **特征**: 超越朋友,如同亲人
- **行为**: 无条件依赖,生命中的一部分
- **互动**: 心灵相通,默契配合
- **解锁**: 全部内容、特殊结局、专属称号

#### 2.2.2 等级提升条件

> **设计优化**: 采用简化的三要素判定系统，避免过于复杂的条件
> **计算说明**: 综合关系值 = (好感度×0.4) + (亲密度×0.3) + (信任度×0.2) + (依赖度×0.1)

**陌生人→认识** [综合关系值≥11]
- **核心条件**:
  - 综合关系值: ≥11分
  - 最少相处: 1天
  - 深度互动: 至少1次有意义的对话
- **触发机制**: 达到条件后自动触发"初识"剧情
- **解锁内容**: 记住玩家名字、基础对话选项

**认识→熟悉** [综合关系值≥26]
- **核心条件**:
  - 综合关系值: ≥26分
  - 最少相处: 3天
  - 深度互动: 至少3次有质量的交流
- **触发机制**: 达到条件后触发"熟悉起来"剧情
- **解锁内容**: 分享日常、简单玩笑、个人偏好

**熟悉→朋友** [综合关系值≥41]
- **核心条件**:
  - 综合关系值: ≥41分
  - 最少相处: 7天
  - 深度互动: 至少5次深入交流
- **触发机制**: 达到条件后触发"成为朋友"特殊事件
- **特殊要求**: 至少赠送过1次礼物
- **解锁内容**: 个人故事、中级任务、特殊称呼

**朋友→好友** [综合关系值≥61]
- **核心条件**:
  - 综合关系值: ≥61分
  - 最少相处: 14天
  - 深度互动: 至少8次心与心的交流
- **触发机制**: 达到条件后触发"心对心交谈"剧情
- **特殊要求**: 完成至少1次桌宠的重要请求
- **解锁内容**: 私密对话、内心想法、专属动画

**好友→挚友** [综合关系值≥76]
- **核心条件**:
  - 综合关系值: ≥76分
  - 最少相处: 30天
  - 深度互动: 至少15次深层情感交流
- **触发机制**: 达到条件后触发"牢不可破的纽带"特殊剧情
- **特殊要求**: 共同经历至少1次重大事件（如危机、节日等）
- **解锁内容**: 完整背景故事、高级任务、独家称号

**挚友→家人** [综合关系值≥91]
- **核心条件**:
  - 综合关系值: ≥91分
  - 最少相处: 60天
  - 深度互动: 至少30次深度情感连接
- **触发机制**: 达到条件后玩家可选择是否举行"家人契约"仪式
- **特殊要求**:
  - 桌宠依赖度≥70（确保真正的相互依赖）
  - 玩家主动确认建立家人关系
- **解锁内容**: 全部内容、特殊结局、"家人"专属称号

---

**简化设计理念**:
- ✅ **综合评估**: 使用综合关系值替代单独的好感/亲密/信任检查，简化判定逻辑
- ✅ **时间沉淀**: 保留相处天数要求，确保关系发展的真实感
- ✅ **质量优先**: 强调深度互动次数而非总互动次数，注重质量而非数量
- ✅ **玩家选择**: 最高等级（家人）需要玩家主动确认，体现仪式感
- ✅ **自动触发**: 达到条件后自动触发剧情，玩家不需要手动查看复杂数值

**深度互动定义**:
- 超过30秒的对话
- 完成桌宠的请求或任务
- 赠送礼物并观看反应
- 参与特殊事件或活动
- 在桌宠需要时及时提供帮助

### 2.3 关系影响行为

#### 2.3.1 对话系统影响

**陌生人阶段**:
- 问候语: "你好"、"您好"
- 话题: 天气、基本信息
- 语气: 正式礼貌
- 表情使用: 无

**认识阶段**:
- 问候语: "嗨"、"早上好"
- 话题: 日常活动、简单兴趣
- 语气: 友好但保持距离
- 表情使用: 偶尔微笑

**熟悉阶段**:
- 问候语: "嘿!"、"又见面了~"
- 话题: 爱好、工作学习、轻松话题
- 语气: 轻松随意
- 表情使用: 常用表情

**朋友阶段**:
- 问候语: "早呀!"、"想我了吗?"
- 话题: 个人想法、烦恼、梦想
- 语气: 亲切自然
- 表情使用: 丰富表情
- 特殊行为: 会询问玩家近况

**好友阶段**:
- 问候语: "主人!"、"终于等到你了!"
- 话题: 内心感受、秘密、深层想法
- 语气: 亲密无间
- 表情使用: 大量表情和颜文字
- 特殊行为: 会主动分享内心世界

**挚友阶段**:
- 问候语: "最喜欢的你来了!"、"等你好久了~"
- 话题: 一切话题，无保留
- 语气: 完全放松，真实自我
- 表情使用: 各种表情自由使用
- 特殊行为: 会说悄悄话，使用昵称

**家人阶段**:
- 问候语: "回来啦!"、"欢迎回家~"
- 话题: 心灵相通，无需多言
- 语气: 温暖如家
- 表情使用: 自然表达
- 特殊行为: 默契对话，有时不说话也很舒服

#### 2.3.2 行为模式影响
**关系等级影响行为决策**:

**低关系 (陌生-认识)**:
- **主动互动**: 低频率(1-2次/天)
- **供奉意愿**: 低(需要明确理由)
- **寻求帮助**: 避免打扰
- **分享物品**: 仅必要时
- **特殊行为**: 保持礼貌距离

**中关系 (熟悉-朋友)**:
- **主动互动**: 中频率(3-5次/天)
- **供奉意愿**: 中等(看情况)
- **寻求帮助**: 遇到困难时会求助
- **分享物品**: 愿意分享日常物品
- **特殊行为**: 邀请玩家参与活动

**高关系 (好友-挚友-家人)**:
- **主动互动**: 高频率(6-10次/天)
- **供奉意愿**: 高(主动供奉喜欢的东西)
- **寻求帮助**: 经常寻求意见和帮助
- **分享物品**: 分享珍贵物品
- **特殊行为**:
  - 等待玩家上线
  - 想念时会发消息
  - 为玩家准备惊喜
  - 主动关心玩家状态

### 2.4 关系维护机制

#### 2.4.1 关系增加因素

**正向互动影响值**:
- 每日问候: 好感度+1，亲密度+0.5
- 给予食物: 好感度+2，信任度+1
- 高质量对话(>30秒): 好感度+3，亲密度+2
- 完成桌宠请求: 好感度+5，信任度+3
- 及时提供帮助: 好感度+4，信任度+4，依赖度+2
- 赠送喜欢的礼物: 好感度