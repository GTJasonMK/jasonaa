# Markdown阅读器

一个功能丰富的纯前端Markdown文档阅读器，支持文件上传、实时渲染、代码高亮和自动目录生成。

## 功能特性

### 核心功能
- **文件上传**：支持拖拽和点击选择两种方式
- **Markdown渲染**：完整支持GitHub Flavored Markdown（GFM）语法
- **代码高亮**：使用highlight.js实现多语言语法高亮
- **自动目录**：根据文档标题自动生成可点击的目录树
- **主题适配**：与全局主题系统集成，支持深色/浅色模式切换

### 工具栏功能
- **切换目录**：显示/隐藏侧边栏目录
- **复制全部**：一键复制原始Markdown内容到剪贴板
- **导出HTML**：将渲染后的内容导出为独立HTML文件
- **全屏模式**：切换全屏显示以获得更好的阅读体验
- **代码复制**：每个代码块都有独立的复制按钮

### 增强功能
- **滚动同步**：阅读时目录自动高亮当前章节
- **响应式设计**：完美适配桌面和移动设备
- **状态保存**：自动保存当前文档到本地存储（1小时有效）

## 使用方法

### 打开文档
1. **拖拽上传**：直接将.md或.markdown文件拖拽到上传区域
2. **点击选择**：点击"选择文件"按钮浏览本地文件

### 阅读文档
- 在左侧目录中点击章节标题快速跳转
- 使用右侧滚动条浏览文档内容
- 代码块右上角会显示"复制"按钮（鼠标悬停时可见）

### 导出文档
- 点击工具栏的导出按钮，将渲染后的HTML保存到本地
- 导出的HTML文件包含完整样式，可直接在浏览器中打开

## 支持的Markdown语法

### 标题
```markdown
# 一级标题
## 二级标题
### 三级标题
```

### 文本样式
```markdown
**粗体** *斜体* ~~删除线~~
```

### 列表
```markdown
- 无序列表
- 项目

1. 有序列表
2. 项目
```

### 代码
行内代码：`code`

代码块：
```javascript
function hello() {
  console.log('Hello World');
}
```

### 引用
```markdown
> 这是一段引用文本
```

### 链接和图片
```markdown
[链接文本](https://example.com)
![图片描述](image.png)
```

### 表格
```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 内容| 内容| 内容|
```

### 分隔线
```markdown
---
```

## 技术栈

- **marked.js**：Markdown解析引擎（v11.0.0）
- **highlight.js**：代码语法高亮（v11.9.0）
- **DOMPurify**：XSS防护（v3.0.0）
- **原生JavaScript**：无需构建工具
- **CSS变量**：主题系统集成

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

不支持IE浏览器（需要ES6+支持）。

## 文件限制

- **支持格式**：.md、.markdown
- **最大大小**：10MB
- **字符编码**：UTF-8

## 安全性

- 使用DOMPurify清理HTML，防止XSS攻击
- 限制允许的HTML标签和属性
- 文件大小验证，防止超大文件导致浏览器崩溃

## 数据存储

- 使用LocalStorage保存当前打开的文档
- 保存时间为1小时
- 刷新页面后自动恢复上次打开的文档
- 点击"关闭文件"按钮会清除缓存

## 快捷键

目前不支持自定义快捷键，所有操作通过工具栏按钮完成。

## 已知限制

1. 相对路径的图片可能无法正常显示（需要图片与HTML文件在同一服务器）
2. 某些复杂的HTML嵌入可能被安全策略过滤
3. 非常大的文档（>5MB）可能导致性能下降

## 未来计划

- [ ] 支持实时编辑模式（分屏显示源码和预览）
- [ ] AI辅助功能（文档总结、翻译、问答）
- [ ] 支持从URL加载远程Markdown文件
- [ ] 自定义代码高亮主题
- [ ] 打印优化
- [ ] Mermaid图表支持
- [ ] 数学公式支持（KaTeX）

## 问题反馈

如遇到问题，请在项目GitHub仓库提交Issue。

## 开源协议

MIT License
